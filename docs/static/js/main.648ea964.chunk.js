(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{115:function(e,t){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(14),r=a.n(l),o=(a(66),a(6)),i=a(11);function s(){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(i.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:"/img/carousel/1.jpg",alt:"First slide",height:"500px"}),c.a.createElement(i.a.Caption,null,c.a.createElement(o.b,{to:"/"},c.a.createElement("h1",null,"Tic Tac Toe")))),c.a.createElement(i.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:"/img/carousel/2.jpg",alt:"Second slide",height:"500px"}),c.a.createElement(i.a.Caption,null,c.a.createElement(o.b,{to:"/"},c.a.createElement("h1",null,"Tic Tac Toe")))),c.a.createElement(i.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:"/img/carousel/3.jpg",alt:"Third slide",height:"500px"}),c.a.createElement(i.a.Caption,null,c.a.createElement(o.b,{to:"/"},c.a.createElement("h1",null,"Tic Tac Toe")))),c.a.createElement(i.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:"/img/carousel/4.jpg",alt:"Third slide",height:"500px"}),c.a.createElement(i.a.Caption,null,c.a.createElement(o.b,{to:"/"},c.a.createElement("h1",null,"Tic Tac Toe"))))))}var m=a(13),u=a(21),p=a.n(u),g="http://178.128.206.150:7000/",d={apikey:"0b444a11-9ad9-4ae4-b80a-11637e977686"};function b(){return p.a.post("".concat(g).concat("create_board"),{apikey:d})}function f(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1];function r(){return function(e){return p.a.post("".concat(g).concat("player"),{name:e,apikey:d}).then((function(e){if(200===e.status){var t=e.data.id;return console.log(e,t,"Uspesna registracija"),window.localStorage.setItem("id",t),t}console.log(e,"Neuspesna registracija")}))}({name:a}).then((function(e){e.success?(l(e.name),console.log("Uspesna registracija")):console.log(e,"Neuspesna registracija")}))}return c.a.createElement("div",{className:"register"},c.a.createElement("p",null,"If you want to play Tic-Tac-Toe game register here:"),c.a.createElement("input",{type:"text",className:"input",placeholder:"Enter your name",required:!0,onInput:function(e){l(e.target.value)}}),c.a.createElement(o.b,{to:"/profile"},c.a.createElement("input",{className:"btn",type:"submit",value:"Registruj se",onClick:function(e){r()}})))}function E(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];return c.a.createElement("div",{className:"profile"},c.a.createElement("h3",null,"Hello Player"),c.a.createElement("button",{className:"btn",onClick:b},"Create board"),c.a.createElement("button",{className:"btn",onClick:function(){p.a.post("".concat(g).concat("boards"),{apikey:d}).then((function(e){return l(e.data)}))}},"All boards"),c.a.createElement("div",{className:"all-boards"},a.map((function(e){return c.a.createElement("p",{className:"boards-links",key:e.id},c.a.createElement(o.b,{to:"/board/".concat(e.id)},e.id," - ",e.players))}))))}var h=a(3),v=a(9),j=a(60),k=a.n(j),y=null;var N={isPlaying:!1,matrix:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}};function O(e){var t=e.match,a=Object(n.useState)(N),l=Object(m.a)(a,2),r=l[0],i=l[1],s=t.params.id;return Object(n.useEffect)((function(){return function(e,t,a){var n=Number(window.localStorage.getItem("id"));(y=k()("".concat("http://178.128.206.150:7000/","?id=").concat(n))).on("connect",(function(){y.emit("join_room",e,(function(e){}))})),y.on("joined",(function(a){if(a.board_id===e)if(a.player.id===n){var c=JSON.parse(a.matrix),l=0;for(var r in c)c[r]&&l++;var o=1===a.seat||l%2===1;t((function(e){return Object(v.a)(Object(v.a)({},e),{},{user:Object(v.a)(Object(v.a)({},a.player),{},{seat:a.seat}),matrix:JSON.parse(a.matrix),isPlaying:o})}))}else t((function(e){return Object(v.a)(Object(v.a)({},e),{},{opponent:Object(v.a)(Object(v.a)({},a.player),{},{seat:a.seat}),matrix:JSON.parse(a.matrix)})})),console.log("laza")})),y.on("win",(function(e){console.log("pobeda",e),alert("You won!")})),y.on("tie",(function(e){console.log("nereseno",e),alert("Result is tie")})),y.on("marked",(function(a){console.log("marked field",a),a.board_id===e&&t((function(e){return Object(v.a)(Object(v.a)({},e),{},{matrix:a.matrix,isPlaying:!e.isPlaying})}))})),y.on("restarted",(function(e){t((function(e){return Object(v.a)(Object(v.a)({},e),{},{isPlaying:1===e.user.seat,matrix:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}})}))})),y.on("left",(function(t){t.board_id===e&&alert("".concat(t.player.name," has left the game!"))})),y.on("seat_left",(function(e){console.log("left spot",e)}))}(s,i),function(){return function(e){y.emit("leave_room",e,(function(e){console.log(e)}))}(s)}}),[s]),c.a.createElement("div",null,c.a.createElement("button",{className:"btn",onClick:function(){return function(e){y.emit("restart",e,(function(e){console.log(e)}))}(s)}},"Restart"),c.a.createElement(o.b,{to:"/"},c.a.createElement("button",{className:"btn"},"Leave")),c.a.createElement("button",{className:"btn",onClick:function(){return function(e){y.emit("leave_seat",e,(function(e){console.log(e)}))}(s)}},"Leave seat"),c.a.createElement("div",{className:"table"},Object.keys(r.matrix).map((function(e){return c.a.createElement("div",{className:"polje",onClick:function(){!function(e,t,a,n){n&&y.emit("mark_tile",e,t,(function(e){console.log(e)}))}(s,e,0,r.isPlaying)},key:e},0===r.matrix[e]?" ":1===r.matrix[e]?c.a.createElement("img",{src:"/img/icons8-x-64.png",alt:"X"}):c.a.createElement("img",{src:"/img/icons8-o-64.png",alt:"O"}))}))))}function w(){return c.a.createElement("div",null,c.a.createElement(o.b,{to:"/register"},c.a.createElement("button",{className:"btn"},"Click to register")),c.a.createElement("br",null),c.a.createElement("img",{src:"./img/tic-tac-toe.png",alt:"tic-logo",width:"200px",height:"200px"}),c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/register",component:f}),c.a.createElement(h.a,{path:"/profile",component:E}),c.a.createElement(h.a,{path:"/board/:id",component:O})))}function x(){return c.a.createElement("div",{className:"footer"},c.a.createElement("p",null,"\xa9 Made by Biljana Pavlovic 2020."),c.a.createElement("div",null,c.a.createElement("a",{href:"https://www.linkedin.com/in/biljana-pavlovic-29a0907b/ ",target:"_blanck"},c.a.createElement("img",{className:"soc-ico",src:"./img/linkedin.png",alt:"linkedin"})),c.a.createElement("a",{href:"https://github.com/BiljanaPavlovic",target:"_blanck"},c.a.createElement("img",{className:"soc-ico",src:"./img/github.png",alt:"linkedin"}))))}var T=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.a,null,c.a.createElement(s,null),c.a.createElement(w,null),c.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(118)},66:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.648ea964.chunk.js.map